<!DOCTYPE html>
<html>
  
<head>
<style>
    body {
        background-color: white;
        margin: 0;
        padding: 0;
    }
    #darkcyan-section {
        height: 50.0vh;
        background-color: darkcyan;
        display: flex;
   }
</style>
</head>
<body>
    <div id="darkcyan-section"></div>
</body>

  <style>
        .custom-text {
            position: absolute;
            top: 110px;
            left: 275px;
        }
    </style>
</head>
<body>
    <div class="custom-text">
        <h1 class="title has-text-white">Dati di targa della Macchina in DC e dell'Alternatore</h1>
    </div>
</body>
  
<head>
  <title>Dati di targa EWS1</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
</head>
<body>
  
  <section class="section">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-half">
          <h1 class="title">Dati di targa della Macchina in DC e dell'Alternatore</h1>
          <h6>Prima di valorizzare i campi delle celle seguenti guarda il video che ti mostra il formato del numero e come fare per caricarlo al termine di questa attività nell'ambiente di lavoro Google Sheets</h6>
          <br>
<video width="640" height="360" controls>
  <source src="gs1.mp4" type="video/mp4">
  Il tuo browser non supporta il tag video.
</video>
         
 <div class="container">
        <h1 class="title">Verifica input</h1>
        <div class="field">
            <label class="label">Potenza nominale motore DC [kW]:</label>
            <div class="control">
                <input class="input" type="text" id="input1" placeholder="[kW] Eventuale numero decimale con la virgola">
            </div>
            <p id="input1Notification" class="help"></p>
        </div>

        <div class="field">
            <label class="label">Corrente nominale di eccitazione motore DC [A]:</label>
            <div class="control">
                <input class="input" type="text" id="input2" placeholder="[A] Eventuale numero decimale con la virgola">
            </div>
            <p id="input2Notification" class="help"></p>
        </div>

        <div class="field">
            <label class="label">Tensione nominale motore DC [V]:</label>
            <div class="control">
                <input class="input" type="text" id="input3" placeholder="[V] Eventuale numero decimale con la virgola">
            </div>
            <p id="input3Notification" class="help"></p>
        </div>

        <div class="field">
            <label class="label">Numero di giri del motore [rpm]:</label>
            <div class="control">
                <input class="input" type="text" id="input4" placeholder="[rpm] Eventuale numero decimale con la virgola">
            </div>
            <p id="input4Notification" class="help"></p>
        </div>

        <div class="field is-grouped">
            <div class="control">
                <button id="submitButton" class="button is-primary">Verifica</button>
            </div>
            <div class="control">
                <button id="csvButton" class="button is-primary">Salva CSV</button>
            </div>
        </div>
     </div>
          
<hr>
  <div class="is-pulled-right">
    <a href="javascript:history.go(-1)" class="button is-link is-rounded">Torna Indietro</a>
    <a href="/EWS" class="button is-primary is-rounded">Home</a>
  </div>
          
    <script>
        var correctValues = {
            'input1': '0,33',
            'input2': '0,21',
            'input3': '110',
            'input4': '1500'
        };

        function verifyInputs() {
            for (var inputId in correctValues) {
                var input = document.getElementById(inputId);
                var notification = document.getElementById(inputId + 'Notification');

                if (input.value === correctValues[inputId]) {
                    notification.textContent = 'Risposta corretta';
                    notification.classList.add('is-success');
                    notification.classList.remove('is-danger');
                } else {
                    notification.textContent = 'Spiacente, hai sbagliato. Riprova';
                    notification.classList.add('is-danger');
                    notification.classList.remove('is-success');
                }
            }
        }

        function saveToCSV() {
            var csvContent = "data:text/csv;charset=utf-8,";
            var header = "EWS1.\n Pnom-DC [kW]. Iecc-DC [A]. Valim-DC [V]. N°giri [rpm]\n";
            var row = "";

            for (var inputId in correctValues) {
                var input = document.getElementById(inputId);
                row += input.value + ".";
            }

            csvContent += header + row;
            var encodedUri = encodeURI(csvContent);
            var link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "datitarga.csv");
            document.body.appendChild(link);
            link.click();
        }

        document.getElementById('submitButton').addEventListener('click', function (event) {
            event.preventDefault();
            verifyInputs();
        });

        document.getElementById('csvButton').addEventListener('click', function (event) {
            event.preventDefault();
            saveToCSV();
        });
      
      defer src="https://cdn.jsdelivr.net/npm/bulma@0.9.3/js/bulma.min.js"
      
    </script>
 </body>
</html>

